Run float
Not using distributed mode
Namespace(amp=False, aux_loss=False, batch_size=8, data_path='/host_nithink/VitisAI/download_coco/data', dataset='coco', deploy=False, device='cuda', dist_url='env://', distributed=False, epochs=30, inspect=False, lr=0.01, lr_warmup_decay=0.01, lr_warmup_epochs=0, lr_warmup_method='linear', model='deeplabv3_resnet50', momentum=0.9, output_dir='.', print_freq=10, quant_dir='quant_result', quant_mode='float', resume='', start_epoch=0, test_only=True, train=False, use_deterministic_algorithms=False, weight_decay=0.0001, weights=None, weights_backbone=None, workers=16, world_size=1)
loading annotations into memory...
Done (t=10.49s)
creating index...
index created!
loading annotations into memory...
Done (t=0.26s)
creating index...
index created!
Len of data_loader_test 5000
Test:  [   0/5000]  eta: 1:08:02    time: 0.8164  data: 0.5583  max mem: 529
Test:  [ 100/5000]  eta: 0:02:53    time: 0.0279  data: 0.0011  max mem: 550
Test:  [ 200/5000]  eta: 0:02:31    time: 0.0279  data: 0.0010  max mem: 550
Test:  [ 300/5000]  eta: 0:02:22    time: 0.0274  data: 0.0008  max mem: 550
Test:  [ 400/5000]  eta: 0:02:16    time: 0.0277  data: 0.0010  max mem: 550
Test:  [ 500/5000]  eta: 0:02:11    time: 0.0278  data: 0.0009  max mem: 550
Test:  [ 600/5000]  eta: 0:02:07    time: 0.0279  data: 0.0009  max mem: 550
Test:  [ 700/5000]  eta: 0:02:04    time: 0.0279  data: 0.0009  max mem: 550
Test:  [ 800/5000]  eta: 0:02:00    time: 0.0282  data: 0.0009  max mem: 550
Test:  [ 900/5000]  eta: 0:01:57    time: 0.0281  data: 0.0010  max mem: 550
Test:  [1000/5000]  eta: 0:01:54    time: 0.0282  data: 0.0010  max mem: 550
Test:  [1100/5000]  eta: 0:01:51    time: 0.0283  data: 0.0010  max mem: 550
Test:  [1200/5000]  eta: 0:01:48    time: 0.0283  data: 0.0010  max mem: 550
Test:  [1300/5000]  eta: 0:01:45    time: 0.0280  data: 0.0010  max mem: 550
Test:  [1400/5000]  eta: 0:01:42    time: 0.0278  data: 0.0010  max mem: 550
Test:  [1500/5000]  eta: 0:01:39    time: 0.0279  data: 0.0009  max mem: 550
Test:  [1600/5000]  eta: 0:01:36    time: 0.0281  data: 0.0010  max mem: 550
Test:  [1700/5000]  eta: 0:01:33    time: 0.0282  data: 0.0011  max mem: 550
Test:  [1800/5000]  eta: 0:01:30    time: 0.0278  data: 0.0011  max mem: 550
Test:  [1900/5000]  eta: 0:01:27    time: 0.0281  data: 0.0010  max mem: 550
Test:  [2000/5000]  eta: 0:01:25    time: 0.0280  data: 0.0010  max mem: 550
Test:  [2100/5000]  eta: 0:01:22    time: 0.0279  data: 0.0009  max mem: 550
Test:  [2200/5000]  eta: 0:01:19    time: 0.0281  data: 0.0010  max mem: 550
Test:  [2300/5000]  eta: 0:01:16    time: 0.0281  data: 0.0010  max mem: 550
Test:  [2400/5000]  eta: 0:01:13    time: 0.0282  data: 0.0010  max mem: 550
Test:  [2500/5000]  eta: 0:01:10    time: 0.0281  data: 0.0010  max mem: 550
Test:  [2600/5000]  eta: 0:01:07    time: 0.0281  data: 0.0011  max mem: 550
Test:  [2700/5000]  eta: 0:01:05    time: 0.0280  data: 0.0009  max mem: 550
Test:  [2800/5000]  eta: 0:01:02    time: 0.0282  data: 0.0010  max mem: 550
Test:  [2900/5000]  eta: 0:00:59    time: 0.0282  data: 0.0010  max mem: 550
Test:  [3000/5000]  eta: 0:00:56    time: 0.0282  data: 0.0010  max mem: 550
Test:  [3100/5000]  eta: 0:00:53    time: 0.0283  data: 0.0010  max mem: 550
Test:  [3200/5000]  eta: 0:00:50    time: 0.0280  data: 0.0010  max mem: 550
Test:  [3300/5000]  eta: 0:00:48    time: 0.0281  data: 0.0010  max mem: 550
Test:  [3400/5000]  eta: 0:00:45    time: 0.0281  data: 0.0010  max mem: 550
Test:  [3500/5000]  eta: 0:00:42    time: 0.0282  data: 0.0010  max mem: 550
Test:  [3600/5000]  eta: 0:00:39    time: 0.0279  data: 0.0010  max mem: 550
Test:  [3700/5000]  eta: 0:00:36    time: 0.0281  data: 0.0011  max mem: 550
Test:  [3800/5000]  eta: 0:00:33    time: 0.0279  data: 0.0010  max mem: 550
Test:  [3900/5000]  eta: 0:00:31    time: 0.0278  data: 0.0009  max mem: 550
Test:  [4000/5000]  eta: 0:00:28    time: 0.0280  data: 0.0010  max mem: 550
Test:  [4100/5000]  eta: 0:00:25    time: 0.0281  data: 0.0010  max mem: 550
Test:  [4200/5000]  eta: 0:00:22    time: 0.0281  data: 0.0010  max mem: 550
Test:  [4300/5000]  eta: 0:00:19    time: 0.0282  data: 0.0010  max mem: 550
Test:  [4400/5000]  eta: 0:00:16    time: 0.0282  data: 0.0011  max mem: 550
Test:  [4500/5000]  eta: 0:00:14    time: 0.0280  data: 0.0010  max mem: 550
Test:  [4600/5000]  eta: 0:00:11    time: 0.0280  data: 0.0010  max mem: 550
Test:  [4700/5000]  eta: 0:00:08    time: 0.0283  data: 0.0011  max mem: 550
Test:  [4800/5000]  eta: 0:00:05    time: 0.0282  data: 0.0011  max mem: 550
Test:  [4900/5000]  eta: 0:00:02    time: 0.0283  data: 0.0012  max mem: 550
Test: Total time: 0:02:21
global correct: 91.9
average row correct: ['93.7', '87.3', '79.2', '77.2', '58.4', '60.8', '90.2', '71.4', '93.7', '49.5', '84.8', '72.1', '87.0', '84.4', '83.1', '92.0', '53.2', '88.3', '66.0', '89.2', '75.4']
IoU: ['90.7', '76.8', '63.9', '60.0', '48.6', '49.0', '81.4', '57.8', '86.0', '36.6', '72.6', '36.4', '73.8', '69.5', '74.6', '81.6', '31.3', '73.1', '51.1', '77.6', '63.5']
mean IoU: 64.6
Run Quantization
Not using distributed mode
Namespace(amp=False, aux_loss=False, batch_size=8, data_path='/host_nithink/VitisAI/download_coco/data', dataset='coco', deploy=False, device='cuda', dist_url='env://', distributed=False, epochs=30, inspect=False, lr=0.01, lr_warmup_decay=0.01, lr_warmup_epochs=0, lr_warmup_method='linear', model='deeplabv3_resnet50', momentum=0.9, output_dir='.', print_freq=10, quant_dir='quant_result', quant_mode='calib', resume='', start_epoch=0, test_only=True, train=False, use_deterministic_algorithms=False, weight_decay=0.0001, weights=None, weights_backbone=None, workers=16, world_size=1)
loading annotations into memory...
Done (t=10.51s)
creating index...
index created!
loading annotations into memory...
Done (t=0.26s)
creating index...
index created!
Len of data_loader_test 5000
Test:  [   0/5000]  eta: 1:46:27    time: 1.2776  data: 0.7519  max mem: 9174
Test:  [ 100/5000]  eta: 0:16:12    time: 0.1794  data: 0.0012  max mem: 9174
Test:  [ 200/5000]  eta: 0:15:06    time: 0.1792  data: 0.0011  max mem: 9174
Test:  [ 300/5000]  eta: 0:14:33    time: 0.1795  data: 0.0012  max mem: 9174
Test:  [ 400/5000]  eta: 0:14:07    time: 0.1800  data: 0.0011  max mem: 9174
Test:  [ 500/5000]  eta: 0:13:45    time: 0.1798  data: 0.0012  max mem: 9174
Test:  [ 600/5000]  eta: 0:13:25    time: 0.1808  data: 0.0011  max mem: 9174
Test:  [ 700/5000]  eta: 0:13:06    time: 0.1848  data: 0.0012  max mem: 9174
Test:  [ 800/5000]  eta: 0:12:48    time: 0.1828  data: 0.0011  max mem: 9174
Test:  [ 900/5000]  eta: 0:12:30    time: 0.1826  data: 0.0011  max mem: 9174
Test:  [1000/5000]  eta: 0:12:12    time: 0.1827  data: 0.0011  max mem: 9174
Test:  [1100/5000]  eta: 0:11:53    time: 0.1833  data: 0.0012  max mem: 9174
Test:  [1200/5000]  eta: 0:11:35    time: 0.1837  data: 0.0011  max mem: 9174
Test:  [1300/5000]  eta: 0:11:17    time: 0.1841  data: 0.0010  max mem: 9174
Test:  [1400/5000]  eta: 0:10:59    time: 0.1851  data: 0.0011  max mem: 9174
Test:  [1500/5000]  eta: 0:10:41    time: 0.1855  data: 0.0011  max mem: 9174
Test:  [1600/5000]  eta: 0:10:23    time: 0.1858  data: 0.0010  max mem: 9174
Test:  [1700/5000]  eta: 0:10:06    time: 0.1860  data: 0.0010  max mem: 9174
Test:  [1800/5000]  eta: 0:09:48    time: 0.1860  data: 0.0010  max mem: 9174
Test:  [1900/5000]  eta: 0:09:30    time: 0.1875  data: 0.0011  max mem: 9174
Test:  [2000/5000]  eta: 0:09:12    time: 0.1877  data: 0.0011  max mem: 9174
Test:  [2100/5000]  eta: 0:08:54    time: 0.1880  data: 0.0010  max mem: 9174
Test:  [2200/5000]  eta: 0:08:36    time: 0.1885  data: 0.0011  max mem: 9174
Test:  [2300/5000]  eta: 0:08:18    time: 0.1887  data: 0.0010  max mem: 9174
Test:  [2400/5000]  eta: 0:08:00    time: 0.1897  data: 0.0011  max mem: 9174
Test:  [2500/5000]  eta: 0:07:42    time: 0.1898  data: 0.0011  max mem: 9174
Test:  [2600/5000]  eta: 0:07:24    time: 0.1905  data: 0.0013  max mem: 9174
Test:  [2700/5000]  eta: 0:07:06    time: 0.1918  data: 0.0011  max mem: 9174
Test:  [2800/5000]  eta: 0:06:48    time: 0.1921  data: 0.0011  max mem: 9174
Test:  [2900/5000]  eta: 0:06:30    time: 0.1918  data: 0.0011  max mem: 9174
Test:  [3000/5000]  eta: 0:06:12    time: 0.1921  data: 0.0011  max mem: 9174
Test:  [3100/5000]  eta: 0:05:54    time: 0.1920  data: 0.0011  max mem: 9174
Test:  [3200/5000]  eta: 0:05:35    time: 0.1938  data: 0.0011  max mem: 9174
Test:  [3300/5000]  eta: 0:05:17    time: 0.1942  data: 0.0011  max mem: 9174
Test:  [3400/5000]  eta: 0:04:59    time: 0.1948  data: 0.0011  max mem: 9174
Test:  [3500/5000]  eta: 0:04:40    time: 0.1951  data: 0.0011  max mem: 9174
Test:  [3600/5000]  eta: 0:04:22    time: 0.1956  data: 0.0010  max mem: 9174
Test:  [3700/5000]  eta: 0:04:04    time: 0.1962  data: 0.0011  max mem: 9174
Test:  [3800/5000]  eta: 0:03:45    time: 0.1964  data: 0.0011  max mem: 9174
Test:  [3900/5000]  eta: 0:03:26    time: 0.1965  data: 0.0011  max mem: 9174
Test:  [4000/5000]  eta: 0:03:08    time: 0.1968  data: 0.0010  max mem: 9174
Test:  [4100/5000]  eta: 0:02:49    time: 0.1980  data: 0.0011  max mem: 9174
Test:  [4200/5000]  eta: 0:02:31    time: 0.1985  data: 0.0011  max mem: 9174
Test:  [4300/5000]  eta: 0:02:12    time: 0.1984  data: 0.0011  max mem: 9174
Test:  [4400/5000]  eta: 0:01:53    time: 0.1988  data: 0.0011  max mem: 9174
Test:  [4500/5000]  eta: 0:01:34    time: 0.1995  data: 0.0011  max mem: 9174
Test:  [4600/5000]  eta: 0:01:15    time: 0.2000  data: 0.0011  max mem: 9174
Test:  [4700/5000]  eta: 0:00:56    time: 0.2003  data: 0.0011  max mem: 9174
Test:  [4800/5000]  eta: 0:00:38    time: 0.2007  data: 0.0011  max mem: 9174
Test:  [4900/5000]  eta: 0:00:19    time: 0.2013  data: 0.0011  max mem: 9174
Test: Total time: 0:15:53
global correct: 92.0
average row correct: ['94.1', '86.0', '78.3', '76.5', '58.2', '49.4', '89.6', '71.0', '93.8', '46.7', '83.0', '70.3', '86.3', '84.0', '82.3', '91.4', '51.7', '87.0', '66.1', '89.7', '73.8']
IoU: ['90.8', '76.4', '63.7', '61.3', '48.7', '44.1', '82.1', '57.7', '86.0', '35.4', '72.1', '36.6', '74.3', '69.7', '73.9', '81.6', '31.6', '71.9', '51.6', '78.0', '62.6']
mean IoU: 64.3
Run Deploy
Not using distributed mode
Namespace(amp=False, aux_loss=False, batch_size=8, data_path='/host_nithink/VitisAI/download_coco/data', dataset='coco', deploy=True, device='cuda', dist_url='env://', distributed=False, epochs=30, inspect=False, lr=0.01, lr_warmup_decay=0.01, lr_warmup_epochs=0, lr_warmup_method='linear', model='deeplabv3_resnet50', momentum=0.9, output_dir='.', print_freq=10, quant_dir='quant_result', quant_mode='test', resume='', start_epoch=0, test_only=True, train=False, use_deterministic_algorithms=False, weight_decay=0.0001, weights=None, weights_backbone=None, workers=16, world_size=1)
loading annotations into memory...
Done (t=10.60s)
creating index...
index created!
loading annotations into memory...
Done (t=0.26s)
creating index...
index created!
Len of data_loader_test 5000
Run Evaluation on Quant Network
Not using distributed mode
Namespace(amp=False, aux_loss=False, batch_size=8, data_path='/host_nithink/VitisAI/download_coco/data', dataset='coco', deploy=False, device='cuda', dist_url='env://', distributed=False, epochs=30, inspect=False, lr=0.01, lr_warmup_decay=0.01, lr_warmup_epochs=0, lr_warmup_method='linear', model='deeplabv3_resnet50', momentum=0.9, output_dir='.', print_freq=10, quant_dir='quant_result', quant_mode='test', resume='', start_epoch=0, test_only=True, train=False, use_deterministic_algorithms=False, weight_decay=0.0001, weights=None, weights_backbone=None, workers=16, world_size=1)
loading annotations into memory...
Done (t=10.66s)
creating index...
index created!
loading annotations into memory...
Done (t=0.26s)
creating index...
index created!
Len of data_loader_test 5000
Test:  [   0/5000]  eta: 3:00:19    time: 2.1639  data: 0.8496  max mem: 9174
Test:  [ 100/5000]  eta: 0:06:14    time: 0.0550  data: 0.0011  max mem: 9174
Test:  [ 200/5000]  eta: 0:05:15    time: 0.0547  data: 0.0011  max mem: 9174
Test:  [ 300/5000]  eta: 0:04:51    time: 0.0553  data: 0.0012  max mem: 9174
Test:  [ 400/5000]  eta: 0:04:37    time: 0.0546  data: 0.0011  max mem: 9174
Test:  [ 500/5000]  eta: 0:04:25    time: 0.0544  data: 0.0010  max mem: 9174
Test:  [ 600/5000]  eta: 0:04:16    time: 0.0541  data: 0.0010  max mem: 9174
Test:  [ 700/5000]  eta: 0:04:08    time: 0.0543  data: 0.0011  max mem: 9174
Test:  [ 800/5000]  eta: 0:04:00    time: 0.0542  data: 0.0010  max mem: 9174
Test:  [ 900/5000]  eta: 0:03:53    time: 0.0544  data: 0.0010  max mem: 9174
Test:  [1000/5000]  eta: 0:03:46    time: 0.0540  data: 0.0010  max mem: 9174
Test:  [1100/5000]  eta: 0:03:40    time: 0.0544  data: 0.0010  max mem: 9174
Test:  [1200/5000]  eta: 0:03:34    time: 0.0539  data: 0.0010  max mem: 9174
Test:  [1300/5000]  eta: 0:03:27    time: 0.0545  data: 0.0011  max mem: 9174
Test:  [1400/5000]  eta: 0:03:21    time: 0.0544  data: 0.0010  max mem: 9174
Test:  [1500/5000]  eta: 0:03:15    time: 0.0544  data: 0.0010  max mem: 9174
Test:  [1600/5000]  eta: 0:03:09    time: 0.0542  data: 0.0010  max mem: 9174
Test:  [1700/5000]  eta: 0:03:03    time: 0.0541  data: 0.0009  max mem: 9174
Test:  [1800/5000]  eta: 0:02:58    time: 0.0544  data: 0.0010  max mem: 9174
Test:  [1900/5000]  eta: 0:02:52    time: 0.0548  data: 0.0010  max mem: 9174
Test:  [2000/5000]  eta: 0:02:46    time: 0.0544  data: 0.0010  max mem: 9174
Test:  [2100/5000]  eta: 0:02:40    time: 0.0546  data: 0.0010  max mem: 9174
Test:  [2200/5000]  eta: 0:02:35    time: 0.0548  data: 0.0011  max mem: 9174
Test:  [2300/5000]  eta: 0:02:29    time: 0.0545  data: 0.0010  max mem: 9174
Test:  [2400/5000]  eta: 0:02:23    time: 0.0544  data: 0.0010  max mem: 9174
Test:  [2500/5000]  eta: 0:02:18    time: 0.0546  data: 0.0010  max mem: 9174
Test:  [2600/5000]  eta: 0:02:12    time: 0.0545  data: 0.0010  max mem: 9174
Test:  [2700/5000]  eta: 0:02:07    time: 0.0546  data: 0.0010  max mem: 9174
Test:  [2800/5000]  eta: 0:02:01    time: 0.0547  data: 0.0010  max mem: 9174
Test:  [2900/5000]  eta: 0:01:55    time: 0.0546  data: 0.0010  max mem: 9174
Test:  [3000/5000]  eta: 0:01:50    time: 0.0547  data: 0.0010  max mem: 9174
Test:  [3100/5000]  eta: 0:01:44    time: 0.0549  data: 0.0010  max mem: 9174
Test:  [3200/5000]  eta: 0:01:39    time: 0.0550  data: 0.0010  max mem: 9174
Test:  [3300/5000]  eta: 0:01:33    time: 0.0549  data: 0.0010  max mem: 9174
Test:  [3400/5000]  eta: 0:01:28    time: 0.0549  data: 0.0010  max mem: 9174
Test:  [3500/5000]  eta: 0:01:22    time: 0.0552  data: 0.0010  max mem: 9174
Test:  [3600/5000]  eta: 0:01:17    time: 0.0547  data: 0.0010  max mem: 9174
Test:  [3700/5000]  eta: 0:01:11    time: 0.0552  data: 0.0010  max mem: 9174
Test:  [3800/5000]  eta: 0:01:06    time: 0.0555  data: 0.0010  max mem: 9174
Test:  [3900/5000]  eta: 0:01:00    time: 0.0553  data: 0.0010  max mem: 9174
Test:  [4000/5000]  eta: 0:00:55    time: 0.0551  data: 0.0010  max mem: 9174
Test:  [4100/5000]  eta: 0:00:49    time: 0.0554  data: 0.0010  max mem: 9174
Test:  [4200/5000]  eta: 0:00:44    time: 0.0555  data: 0.0010  max mem: 9174
Test:  [4300/5000]  eta: 0:00:38    time: 0.0555  data: 0.0010  max mem: 9174
Test:  [4400/5000]  eta: 0:00:33    time: 0.0553  data: 0.0010  max mem: 9174
Test:  [4500/5000]  eta: 0:00:27    time: 0.0555  data: 0.0010  max mem: 9174
Test:  [4600/5000]  eta: 0:00:22    time: 0.0556  data: 0.0010  max mem: 9174
Test:  [4700/5000]  eta: 0:00:16    time: 0.0553  data: 0.0011  max mem: 9174
Test:  [4800/5000]  eta: 0:00:11    time: 0.0553  data: 0.0011  max mem: 9174
Test:  [4900/5000]  eta: 0:00:05    time: 0.0554  data: 0.0011  max mem: 9174
Test: Total time: 0:04:36
METRIC_LOG:QUANT_MODE
global correct: 92.0
average row correct: ['94.2', '85.6', '78.1', '76.6', '58.4', '49.6', '89.5', '70.6', '93.7', '46.2', '83.2', '68.6', '86.4', '83.7', '82.5', '91.4', '52.1', '86.6', '65.6', '89.8', '74.0']
IoU: ['90.9', '76.3', '63.9', '61.0', '48.6', '44.2', '81.8', '57.2', '86.3', '35.3', '72.2', '36.3', '74.3', '69.5', '73.9', '81.5', '32.0', '72.3', '51.8', '78.6', '62.1']
mean IoU: 64.3
